(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{130:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return b})),n.d(t,"toc",(function(){return i})),n.d(t,"default",(function(){return p}));var a=n(3),r=n(8),l=(n(0),n(172)),c={id:"hooks",title:"React Hooks",sidebar_label:"React Hooks",slug:"/react/hooks"},b={unversionedId:"packages/react/features/hooks",id:"packages/react/features/hooks",isDocsHomePage:!1,title:"React Hooks",description:"Be aware that React Hooks are only supported in Functional Components!",source:"@site/docs/packages/react/features/Hooks.md",slug:"/react/hooks",permalink:"/documentation/docs/react/hooks",editUrl:"https://github.com/sid-r-singh/documentation/tree/develop/docs/packages/react/features/Hooks.md",version:"current",lastUpdatedAt:1615632085,formattedLastUpdatedAt:"3/13/2021",sidebar_label:"React Hooks",sidebar:"docs",previous:{title:"Installation",permalink:"/documentation/docs/react/installation"},next:{title:"AgileHOC",permalink:"/documentation/docs/react/AgileHOC"}},i=[{value:"<code>useAgile</code>",id:"useagile",children:[{value:"\ud83d\udd34 Example",id:"-example",children:[]},{value:"\ud83d\udfe6 Typescript",id:"\ud83d\udfe6-typescript",children:[]},{value:"\ud83d\udced Props",id:"-props",children:[]},{value:"\ud83d\udcc4 Return",id:"-return",children:[]}]},{value:"<code>useEvent</code>",id:"useevent",children:[{value:"\ud83d\udd34 Example",id:"-example-1",children:[]},{value:"\ud83d\udfe6 Typescript",id:"\ud83d\udfe6-typescript-1",children:[]},{value:"\ud83d\udced Props",id:"-props-1",children:[]},{value:"\ud83d\udcc4 Return",id:"-return-1",children:[]}]},{value:"<code>useWatcher</code>",id:"usewatcher",children:[{value:"\ud83d\udd34 Example",id:"-example-2",children:[]},{value:"\ud83d\udfe6 Typescript",id:"\ud83d\udfe6-typescript-2",children:[]},{value:"\ud83d\udced Props",id:"-props-2",children:[]},{value:"\ud83d\udcc4 Return",id:"-return-2",children:[]}]}],o={toc:i};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},o,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},"\ud83d\udd25"),"warning")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"Be aware that ",Object(l.b)("a",{parentName:"p",href:"https://reactjs.org/docs/hooks-intro.html"},"React Hooks")," are only supported in ",Object(l.b)("strong",{parentName:"p"},"Functional Components"),"!"))),Object(l.b)("h2",{id:"useagile"},Object(l.b)("inlineCode",{parentName:"h2"},"useAgile")),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"useAgile")," React Hook, helps us to bind States to our React Component.\nThese binding ensures that the Component rerender, whenever the bound State mutates.\nWe can flexibly bind any State to our Component.\nIt doesn't matter which State and how many States."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-ts"},"  const myCoolState = useAgile(MY_COOL_STATE); \n")),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"useAgile")," returns the current ",Object(l.b)("em",{parentName:"p"},"output")," of the passed State."),Object(l.b)("p",null,"It is also possible to bind more than one State to our Component at once."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-ts"},"  const [myCoolState1, myCoolStat2] = useAgile([MY_COOL_STATE1, MY_COOL_STATE2]);\n")),Object(l.b)("p",null,"The binding of multiple State Instances, can lower the rerender count of our Component,\nbecause it allows AgileTs to combine two rerender triggered by different States at same point in time.\nHere ",Object(l.b)("inlineCode",{parentName:"p"},"useAgile")," returns the ",Object(l.b)("em",{parentName:"p"},"output")," of the passed States, in the same order\nas they were passed."),Object(l.b)("p",null,"We are not limited to States, we can bind any Agile Sub Instances that own\nan ",Object(l.b)("inlineCode",{parentName:"p"},"observer")," to a React Component."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-ts"},"  const [myCollection, myGroup] = useAgile([MY_COLLECTION, MY_GROUP]);\n")),Object(l.b)("p",null,"Agile Sub Instances with ",Object(l.b)("inlineCode",{parentName:"p"},"observer"),":"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"State"),Object(l.b)("li",{parentName:"ul"},"Group"),Object(l.b)("li",{parentName:"ul"},"Computed"),Object(l.b)("li",{parentName:"ul"},"Item"),Object(l.b)("li",{parentName:"ul"},"Collection (",Object(l.b)("em",{parentName:"li"},"exception")," since it has no ",Object(l.b)("inlineCode",{parentName:"li"},"observer"),")")),Object(l.b)("h3",{id:"-example"},"\ud83d\udd34 Example"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-tsx",metastring:"live",live:!0},'  const App = new Agile();\n  const MY_STATE = App.createState("Hello Stranger!");\n  \n  const RandomComponent = () => {\n      const myFirstState = useAgile(MY_STATE); // Returns "Hello Stranger!"\n   \n      return (\n          <div>                                              \n              <p>{myFirstState}</p>                          \n              <button                                       \n                  onClick={() => {\n                      MY_STATE.set("Hello Friend!"); \n                  }}\n              >\n                  Update State\n              </button>\n          </div>\n      );\n  }\n  \n  render(<RandomComponent/>);\n')),Object(l.b)("h3",{id:"\ud83d\udfe6-typescript"},"\ud83d\udfe6 Typescript"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"useAgile")," is almost 100% typesafe.\nThere are a few side cases you probably won't run into."),Object(l.b)("h3",{id:"-props"},"\ud83d\udced Props"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Prop"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Required"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"dep")),Object(l.b)("td",{parentName:"tr",align:null},"Array<SubscribableAgileInstancesType",">"," ","|"," SubscribableAgileInstancesType"),Object(l.b)("td",{parentName:"tr",align:null},"Agile Sub Instances that get bound to the Component the useAgile Hook is in"),Object(l.b)("td",{parentName:"tr",align:null},"Yes")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"key")),Object(l.b)("td",{parentName:"tr",align:null},"string ","|"," number"),Object(l.b)("td",{parentName:"tr",align:null},"Key/Name of Observer that gets created. Mainly thought for Debugging."),Object(l.b)("td",{parentName:"tr",align:null},"No")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"agileInstance")),Object(l.b)("td",{parentName:"tr",align:null},"Agile"),Object(l.b)("td",{parentName:"tr",align:null},"To which Agile Instance the State get bound. Gets autodetect if only one Agile Instance exists."),Object(l.b)("td",{parentName:"tr",align:null},"No")))),Object(l.b)("h4",{id:"subscribableagileinstancestype"},"SubscribableAgileInstancesType"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-ts"},"type SubscribableAgileInstancesType = State | Collection | Observer | undefined;\n")),Object(l.b)("h3",{id:"-return"},"\ud83d\udcc4 Return"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"useAgile")," returns the current ",Object(l.b)("inlineCode",{parentName:"p"},"output")," of the passed Agile Sub Instance/s."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-ts",metastring:"{6,9}","{6,9}":!0},"const MY_STATE = App.State(1);\nconst MY_STATE_2 = App.State(2);\nconst MY_STATE_3 = App.State(3);\n\n// One passed Agile Sub Instance\nuseAgile(MY_STATE); // Returns 3\n\n// Multiple passed Agile Sub Instances\nuseAgile([MY_STATE, MY_STATE_2, MY_STATE_3]); // Returns [1, 2, 3]\n")),Object(l.b)("br",null),Object(l.b)("hr",null),Object(l.b)("br",null),Object(l.b)("h2",{id:"useevent"},Object(l.b)("inlineCode",{parentName:"h2"},"useEvent")),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"useEvent")," React Hook allows us to register a new callback function to the passed Event."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-ts"},"useEvent(MY_EVENT, () => {\n   // This is a 'callback function' which gets called when ever the EVENT gets triggered\n})\n")),Object(l.b)("p",null,"The advantage of using this Hook instead of the ",Object(l.b)("inlineCode",{parentName:"p"},"on")," method in a React Component,\nis that the registered callback function gets automatically unregistered whenever the Component unmounts."),Object(l.b)("h3",{id:"-example-1"},"\ud83d\udd34 Example"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-tsx",metastring:"live",live:!0},'const App = new Agile();\nconst MY_EVENT = App.createEvent();\n\nconst RandomComponent = () => {\n    useEvent(MY_EVENT, () => {\n        toast("You successfully triggered an Event!");\n    })\n\n    return (\n        <div>\n            <button\n                onClick={() => {\n                    MY_EVENT.trigger();\n                }}\n            >\n                Trigger Event\n            </button>\n        </div>\n    );\n}\n\nrender(<RandomComponent/>);\n')),Object(l.b)("h3",{id:"\ud83d\udfe6-typescript-1"},"\ud83d\udfe6 Typescript"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"useEvent")," is almost 100% typesafe."),Object(l.b)("h3",{id:"-props-1"},"\ud83d\udced Props"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Prop"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Required"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"event")),Object(l.b)("td",{parentName:"tr",align:null},"Event (E)"),Object(l.b)("td",{parentName:"tr",align:null},"Event to which the passed callback function gets applied."),Object(l.b)("td",{parentName:"tr",align:null},"Yes")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"callback")),Object(l.b)("td",{parentName:"tr",align:null},"EventCallbackFunction<E","['payload']",">"),Object(l.b)("td",{parentName:"tr",align:null},"Callback Function that gets applied to the passed Event"),Object(l.b)("td",{parentName:"tr",align:null},"Yes")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"key")),Object(l.b)("td",{parentName:"tr",align:null},"string ","|"," number"),Object(l.b)("td",{parentName:"tr",align:null},"Key/Name of created Observer. Mainly thought for Debugging."),Object(l.b)("td",{parentName:"tr",align:null},"No")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"agileInstance")),Object(l.b)("td",{parentName:"tr",align:null},"Agile"),Object(l.b)("td",{parentName:"tr",align:null},"To which Agile Instance the Event get bound. Gets autodetect!"),Object(l.b)("td",{parentName:"tr",align:null},"No")))),Object(l.b)("h3",{id:"-return-1"},"\ud83d\udcc4 Return"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"useEvent")," returns nothing."),Object(l.b)("br",null),Object(l.b)("hr",null),Object(l.b)("br",null),Object(l.b)("h2",{id:"usewatcher"},Object(l.b)("inlineCode",{parentName:"h2"},"useWatcher")),Object(l.b)("p",null,"With the ",Object(l.b)("inlineCode",{parentName:"p"},"useWatcher")," React Hook we are able to create a callback function that gets called whenever\nthe passed State mutates. It's a synonym to the ",Object(l.b)("inlineCode",{parentName:"p"},"watch")," function, but might be cleaner to read in a React Component."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-ts"},"useWatcher(MY_STATE, () => {\n   // This is a 'callback function' which gets called whenever MY_STATE mutates\n});\n")),Object(l.b)("h3",{id:"-example-2"},"\ud83d\udd34 Example"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-tsx",metastring:"live",live:!0},'const App = new Agile();\nconst MY_STATE = App.createState("hello");\n\nconst RandomComponent = () => {\n    useWatcher(MY_STATE, (value) => {\n        toast("New Value: " + value);\n    });\n\n    return (\n        <div>\n            <button\n                onClick={() => {\n                    MY_STATE.set("bye");\n                }}\n            >\n                Change State\n            </button>\n        </div>\n    );\n}\n\nrender(<RandomComponent/>);\n')),Object(l.b)("h3",{id:"\ud83d\udfe6-typescript-2"},"\ud83d\udfe6 Typescript"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"useWatcher")," is almost 100% typesafe."),Object(l.b)("h3",{id:"-props-2"},"\ud83d\udced Props"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Prop"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Required"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"state")),Object(l.b)("td",{parentName:"tr",align:null},"State<T",">"),Object(l.b)("td",{parentName:"tr",align:null},"State to which the passed watcher callback gets applied."),Object(l.b)("td",{parentName:"tr",align:null},"Yes")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"callback")),Object(l.b)("td",{parentName:"tr",align:null},"StateWatcherCallback<T",">"),Object(l.b)("td",{parentName:"tr",align:null},"Callback Function that gets applied to the passed State"),Object(l.b)("td",{parentName:"tr",align:null},"Yes")))),Object(l.b)("h3",{id:"-return-2"},"\ud83d\udcc4 Return"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"useWatcher")," returns nothing."))}p.isMDXComponent=!0},172:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=r.a.createContext({}),p=function(e){var t=r.a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):b(b({},t),e)),n},s=function(e){var t=p(e.components);return r.a.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,c=e.parentName,o=i(e,["components","mdxType","originalType","parentName"]),s=p(n),d=a,m=s["".concat(c,".").concat(d)]||s[d]||u[d]||l;return n?r.a.createElement(m,b(b({ref:t},o),{},{components:n})):r.a.createElement(m,b({ref:t},o))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,c=new Array(l);c[0]=d;var b={};for(var i in t)hasOwnProperty.call(t,i)&&(b[i]=t[i]);b.originalType=e,b.mdxType="string"==typeof e?e:a,c[1]=b;for(var o=2;o<l;o++)c[o]=n[o];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);